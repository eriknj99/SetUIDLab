#include <stdio.h>
#include <stdlib.h>
#include <string.h>
//-----Exploitable.c-----


char *v[3];
char *command;

int main(int argc, char *argv[]){
	// argc : The number of command line arguments 
	// argv : An array of string (size argc) containing all command line arguments.

	if(argc > 1){
		
		printf("The contents of the file %s are:\n", argv[1]);
		
		// Concatinate /bin/cat with argv[1] and set command equal to the result. 
		// Equivelent to command = "/bin/cat" + argv[1] in python
		v[0] = "/bin/cat";
		v[1] = argv[1];
		command = malloc(strlen(v[0]) + strlen(v[1]) + 2);
		sprintf(command, "%s %s", v[0], v[1]);
		

		//Execute the command
		system(command);


	}else{
		printf("Please enter a filename as a command line argument.\n");
		printf("Example: $ Exploitable /file/to/print \n");
	}


	return 0;
}
